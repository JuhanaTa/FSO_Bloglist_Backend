{"version":3,"sources":["reducers/notificationReducer.js","services/blogs.js","reducers/blogReducer.js","services/users.js","reducers/usersReducer.js","components/CreateBlogForm.js","components/Togglable.js","services/login.js","reducers/loginReducer.js","components/LoginForm.js","components/Notification.js","components/Blog.js","components/OneUser.js","components/OneBlog.js","components/MainRender.js","App.js","store.js","index.js"],"names":["timeoutID","token","getAll","axios","get","then","response","data","create","newBlog","a","config","headers","Authorization","post","setToken","newToken","update","id","updatedBlog","put","remove","delete","request","status","createBlog","blogObject","console","log","dispatch","blogService","blog","type","title","author","url","likes","deleteBlog","blogs","addLike","updatedBLog","addComment","reducer","state","action","concat","blogTochange","find","n","changedBlog","returningItem","map","initialState","createNotification","content","time","window","clearTimeout","setTimeout","notificationReducer","getUsers","loginService","users","usersReducer","CreateBlogForm","useDispatch","addBlog","event","preventDefault","target","Title","value","Author","Url","Form","onSubmit","Group","Label","Control","name","variant","Togglable","React","forwardRef","props","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","onClick","buttonLabel","children","displayName","login","userInfo","register","loginUser","userObject","username","password","user","localStorage","setItem","JSON","stringify","registerUser","initializeUser","savedLoggedinUser","getItem","parse","loginReducer","Login","addUser","Register","createUser","LoginForm","showAll","setShow","Username","Password","userObjectForLogin","connectedNotifications","connect","notification","className","Blog","blogDeletion","key","to","List","OneUser","oneUser","length","undefined","Card","width","Body","Comments","comments","comment","OneBlog","likeAddition","blogWithLike","commentAddition","commentToSend","push","Comment","blogWithComment","href","UserList","createBlogForm","useSelector","allUsers","Button","handleClick","text","logoutHandler","clear","BlogList","ident","sort","b","Table","striped","usermatch","useRouteMatch","ParamUser","params","blogmatch","paramBlog","Navbar","bg","Nav","Text","Brand","path","bordered","hover","App","useEffect","exception","blogFormRef","useRef","MainRender","combineReducers","blogReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"iMACIA,E,wGCEAC,EAAQ,KAoCG,GAAEC,OA9BF,WAEb,OADgBC,IAAMC,IATR,cAUCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SA4BlBC,OAzBb,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,6DACPC,EAAS,CACbC,QAAS,CAAEC,cAAeZ,IAFf,SAKUE,IAAMW,KAlBf,aAkB6BL,EAASE,GALvC,cAKPL,EALO,yBAMNA,EAASC,MANH,2CAAH,sDAyBqBQ,SAlChB,SAAAC,GACff,EAAK,iBAAae,IAiCuBC,OAhB5B,SAACC,EAAIC,GAClB,IAAMR,EAAS,CACbC,QAAS,CAAEC,cAAeZ,IAG5B,OADgBE,IAAMiB,IAAN,UA1BF,aA0BE,YAAwBF,GAAMC,EAAaR,GAC5CN,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAWQc,OARvC,uCAAG,WAAOH,GAAP,iBAAAR,EAAA,6DACPC,EAAS,CACbC,QAAS,CAAEC,cAAeZ,IAFf,SAISE,IAAMmB,OAAN,UAlCR,aAkCQ,YAA2BJ,GAAMP,GAJ1C,cAIPY,EAJO,yBAKNA,EAAQC,QALF,2CAAH,uDCWCC,EAAa,SAACC,GAEzB,OADAC,QAAQC,IAAI,gBACZ,uCAAO,WAAMC,GAAN,eAAAnB,EAAA,sEACcoB,EAAYtB,OAAOkB,GADjC,OACCK,EADD,OAELF,EAAS,CACPG,KAAM,SACNzB,KAAM,CACJ0B,MAAOF,EAAKE,MACZC,OAAQH,EAAKG,OACbC,IAAKJ,EAAKI,IACVjB,GAAIa,EAAKb,GACTkB,MAAO,KATN,2CAAP,mDAAM,IAeKC,EAAa,SAACnB,GACzB,8CAAO,WAAMW,GAAN,eAAAnB,EAAA,sEACCoB,EAAYT,OAAOH,GADpB,uBAEeY,EAAY5B,SAF3B,OAECoC,EAFD,OAGLT,EAAS,CACPG,KAAM,cACNzB,KAAM+B,IALH,2CAAP,mDAAM,IAUKC,EAAU,SAACrB,EAAIsB,GAC1B,8CAAO,WAAMX,GAAN,iBAAAnB,EAAA,sEACiBoB,EAAYb,OAAOC,EAAIsB,GADxC,cACC/B,EADD,gBAEeqB,EAAY5B,SAF3B,OAECoC,EAFD,OAGLX,QAAQC,IAAI,eAAgBnB,EAAQS,IACpCW,EAAS,CACPG,KAAM,OACNzB,KAAM,CAAEW,KAAIoB,WANT,2CAAP,mDAAM,IAWKG,EAAa,SAACvB,EAAIsB,GAC7B,8CAAO,WAAMX,GAAN,iBAAAnB,EAAA,sEACiBoB,EAAYb,OAAOC,EAAIsB,GADxC,cACC/B,EADD,gBAEeqB,EAAY5B,SAF3B,OAECoC,EAFD,OAGLX,QAAQC,IAAI,mBAAoBnB,EAAQS,IACxCW,EAAS,CACPG,KAAM,UACNzB,KAAM,CAAEW,KAAIoB,WANT,2CAAP,mDAAM,IAqBOI,EAtGC,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAEtC,OAAOA,EAAOZ,MACd,IAAK,SACH,OAAOW,EAAME,OAAOD,EAAOrC,MAC7B,IAAK,aAEL,IAAK,cACH,OAAOqC,EAAOrC,KAChB,IAAK,WACH,MAAM,GAAN,mBAAWoC,GAAX,CAAkBC,EAAOrC,OAC3B,IAAK,OACH,IAAMW,EAAK0B,EAAOrC,KAAKW,GACjB4B,EAAeH,EAAMI,MAAK,SAAAC,GAAC,OAAIA,EAAE9B,KAAOA,KACxC+B,EAAW,eACZH,GAECI,EAAgBP,EAAMQ,KAAI,SAAApB,GAAI,OAClCA,EAAKb,KAAOA,EAAKa,EAAOkB,KAG1B,OADAtB,QAAQC,IAAI,UAAYsB,GACjBN,EAAOrC,KAAK+B,MAErB,IAAK,UACH,IAAMpB,EAAK0B,EAAOrC,KAAKW,GACjB4B,EAAeH,EAAMI,MAAK,SAAAC,GAAC,OAAIA,EAAE9B,KAAOA,KACxC+B,EAAW,eACZH,GAECI,EAAgBP,EAAMQ,KAAI,SAAApB,GAAI,OAClCA,EAAKb,KAAOA,EAAKa,EAAOkB,KAG1B,OADAtB,QAAQC,IAAI,UAAYsB,GACjBN,EAAOrC,KAAK+B,MAErB,QACE,OAAOK,IFtCLS,EAAe,GAgBRC,EAAqB,SAACC,EAAStB,EAAMuB,GAIhD,OAHAC,OAAOC,aAAazD,GACpBuD,GAAc,IAEd,uCAAO,WAAM1B,GAAN,SAAAnB,EAAA,sDAELmB,EAAS,CACPG,KAAM,sBACNzB,KAAM,CAAE+C,UAAStB,UAEnBhC,EAAY0D,YAAW,WAGrB7B,EAAS,CACPG,KAAM,aACNzB,KAAM,CAAE+C,QAJVA,EAAU,QAMTC,GAbE,2CAAP,mDAAM,IA6BOI,EA9Ca,WAAmC,IAAlChB,EAAiC,uDAAzBS,EAAcR,EAAW,uCAE5D,OAAOA,EAAOZ,MACd,IAAK,sBAEL,IAAK,aACH,OAAOY,EAAOrC,KAChB,QACE,OAAOoC,IGFI,EALD,WAEZ,OADgBxC,IAAMC,IAHZ,cAIKC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCM9BqD,EAAW,WACtB,8CAAO,WAAM/B,GAAN,eAAAnB,EAAA,sEACemD,IADf,OACCC,EADD,OAELjC,EAAS,CACPG,KAAM,YACNzB,KAAMuD,IAJH,2CAAP,mDAAM,IASOC,EApBM,WAAyB,IAAxBpB,EAAuB,uDAAf,GAAIC,EAAW,uCAC3C,OAAOA,EAAOZ,MACd,IAAK,YACH,OAAOY,EAAOrC,KAChB,QACE,OAAOoC,I,gBCwDIqB,EAxDQ,WACrB,IAAMnC,EAAWoC,cACXC,EAAO,uCAAG,WAAOC,GAAP,eAAAzD,EAAA,6DACdyD,EAAMC,iBACA1C,EAAa,CACjBO,MAAOkC,EAAME,OAAOC,MAAMC,MAC1BrC,OAAQiC,EAAME,OAAOG,OAAOD,MAC5BpC,IAAKgC,EAAME,OAAOI,IAAIF,OAExBJ,EAAME,OAAOC,MAAMC,MAAQ,GAC3BJ,EAAME,OAAOG,OAAOD,MAAQ,GAC5BJ,EAAME,OAAOI,IAAIF,MAAQ,GATX,kBAWN1C,EAASJ,EAAWC,IAXd,wBAYNG,EAAS+B,KAZH,QAaZ/B,EAASwB,EAAmB,aAAD,OAAc3B,EAAWO,MAAzB,WAAyC,UAAW,IAbnE,kDAeZJ,EAASwB,EAAmB,qBAAsB,QAAS,IAf/C,0DAAH,sDAoBb,OACE,6BACE,0CACA,kBAACqB,EAAA,EAAD,CAAMC,SAAUT,GACd,kBAACQ,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,eACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,QACHc,KAAK,OACL+C,KAAK,UAGP,kBAACL,EAAA,EAAKG,MAAN,gBACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,SACHc,KAAK,OACL+C,KAAK,WAGP,kBAACL,EAAA,EAAKG,MAAN,aACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,MACHc,KAAK,OACL+C,KAAK,QAGP,kBAAC,IAAD,CAAQC,QAAQ,UAAUhD,KAAK,SAASd,GAAG,iBAA3C,c,QCnDJ+D,EAAYC,IAAMC,YAAW,SAACC,EAAOC,GAAS,IAAD,EACnBC,oBAAS,GADU,mBAC1CC,EAD0C,KACjCC,EADiC,KAG3CC,EAAkB,CAAEC,QAASH,EAAU,OAAS,IAChDI,EAAkB,CAAED,QAASH,EAAU,GAAK,QAE5CK,EAAmB,WACvBJ,GAAYD,IASd,OANAM,8BAAoBR,GAAK,WACvB,MAAO,CACLO,uBAKF,6BACE,yBAAKE,MAAOL,GACV,kBAAC,IAAD,CAAQM,QAASH,EAAkB1E,GAAG,aAAakE,EAAMY,cAE3D,yBAAKF,MAAOH,GACTP,EAAMa,SACP,kBAAC,IAAD,CAAQF,QAASH,EAAkB1E,GAAG,WAAtC,eASR+D,EAAUiB,YAAc,YACTjB,QCtBA,GAAEkB,MAVN,uCAAG,WAAMC,GAAN,eAAA1F,EAAA,sEACWP,IAAMW,KAJnB,aAI6BsF,GAD3B,cACN9F,EADM,yBAELA,EAASC,MAFJ,2CAAH,sDAUa8F,SALV,uCAAG,WAAMD,GAAN,eAAA1F,EAAA,sEACQP,IAAMW,KARf,aAQ6BsF,GAD5B,cACT9F,EADS,yBAERA,EAASC,MAFD,2CAAH,uDCSD+F,EAAY,SAAEC,GACzB,IAAMC,EAAWD,EAAWC,SACtBC,EAAWF,EAAWE,SAC5B,8CAAO,WAAM5E,GAAN,eAAAnB,EAAA,sEACcmD,EAAasC,MAAM,CAAEK,WAAUC,aAD7C,OACCC,EADD,OAELlD,OAAOmD,aAAaC,QAAQ,WAAYC,KAAKC,UAAUJ,IAEvD7E,EAAS,CACPG,KAAM,QACNzB,KAAM,CACJN,MAAOyG,EAAKzG,MACZuG,SAAUE,EAAKF,SACfzB,KAAM2B,EAAK3B,QATV,2CAAP,mDAAM,IAeKgC,EAAe,SAAER,GAC5B,IAAMC,EAAWD,EAAWC,SACtBzB,EAAOwB,EAAWxB,KAClB0B,EAAWF,EAAWE,SAE5B,8CAAO,WAAM5E,GAAN,eAAAnB,EAAA,sEACcmD,EAAawC,SAAS,CAAEG,WAAUzB,OAAM0B,aADtD,OACCC,EADD,OAEL7E,EAAS,CACPG,KAAM,WACNzB,KAAM,CACJiG,SAAUE,EAAKF,SACfzB,KAAM2B,EAAK3B,KACX0B,SAAUC,EAAKD,YAPd,2CAAP,mDAAM,IAuBKO,EAAiB,WAC5B,IAAMC,EAAoBzD,OAAOmD,aAAaO,QAAQ,YAChDR,EAAOG,KAAKM,MAAMF,GAExB,OADAnF,EAAYf,SAAS2F,EAAKzG,OAC1B,uCAAO,WAAM4B,GAAN,SAAAnB,EAAA,sDACLmB,EAAS,CACPG,KAAM,YACNzB,KAAM,CACJN,MAAOyG,EAAKzG,MACZuG,SAAUE,EAAKF,SACfzB,KAAM2B,EAAK3B,QANV,2CAAP,mDAAM,IAcOqC,EAhFM,WAAyB,IAAxBzE,EAAuB,uDAAf,GAAIC,EAAW,uCAC3C,OAAOA,EAAOZ,MACd,IAAK,QAEL,IAAK,QAEL,IAAK,YAEL,IAAK,WACH,OAAOY,EAAOrC,KAChB,QACE,OAAOoC,IC8DL0E,EAAQ,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAEf,OACE,6BACE,4CACA,kBAAC5C,EAAA,EAAD,CAAMC,SAAU2C,GACd,kBAAC5C,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,kBACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,WACHc,KAAK,OACL+C,KAAK,aAGP,kBAACL,EAAA,EAAKG,MAAN,kBACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,WACHc,KAAK,WACL+C,KAAK,aAGP,kBAAC,IAAD,CAAQC,QAAQ,UAAUhD,KAAK,SAASd,GAAG,YAA3C,aAQJqG,EAAW,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAElB,OACE,6BACE,oDACA,kBAAC9C,EAAA,EAAD,CAAMC,SAAU6C,GACd,kBAAC9C,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,kBACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,WACHc,KAAK,OACL+C,KAAK,aAGP,kBAACL,EAAA,EAAKG,MAAN,cACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,OACHc,KAAK,OACL+C,KAAK,SAGP,kBAACL,EAAA,EAAKG,MAAN,kBACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,WACHc,KAAK,WACL+C,KAAK,aAGP,kBAAC,IAAD,CAAQC,QAAQ,UAAUhD,KAAK,SAASd,GAAG,YAA3C,gBAMKuG,EArIG,WAChB,IAAM5F,EAAWoC,cADK,EAEKqB,oBAAS,GAFd,mBAEfoC,EAFe,KAENC,EAFM,KAIhB/B,EAAmB,WAErB+B,GADa,IAAZD,IAOCJ,EAAO,uCAAG,WAAOnD,GAAP,eAAAzD,EAAA,6DACdyD,EAAMC,iBACAmC,EAAa,CACjBC,SAAUrC,EAAME,OAAOuD,SAASrD,MAChCkC,SAAUtC,EAAME,OAAOwD,SAAStD,OAElCJ,EAAME,OAAOuD,SAASrD,MAAQ,GAC9BJ,EAAME,OAAOwD,SAAStD,MAAQ,GAPhB,kBASN1C,EAASyE,EAAUC,IATb,uBAUN1E,EAASmF,KAVH,OAWZnF,EAASwB,EAAmB,gBAAiB,UAAW,IAX5C,kDAaZxB,EAASwB,EAAmB,6BAA8B,QAAS,IAbvD,0DAAH,sDAkBPmE,EAAU,uCAAG,WAAOrD,GAAP,iBAAAzD,EAAA,6DACjByD,EAAMC,iBACAmC,EAAa,CACjBC,SAAUrC,EAAME,OAAOuD,SAASrD,MAChCQ,KAAMZ,EAAME,OAAOuD,SAASrD,MAC5BkC,SAAUtC,EAAME,OAAOwD,SAAStD,OAE5BuD,EAAqB,CACzBtB,SAAUrC,EAAME,OAAOuD,SAASrD,MAChCkC,SAAUtC,EAAME,OAAOwD,SAAStD,OAGlC5C,QAAQC,IAAI,mBAZK,kBAeTC,EAASkF,EAAaR,IAfb,uBAgBT1E,EAASyE,EAAUwB,IAhBV,OAiBfjG,EAASwB,EAAmB,kBAAmB,UAAW,IAjB3C,kDAmBfxB,EAASwB,EAAmB,sBAAuB,QAAS,IAnB7C,0DAAH,sDAsBhB,OACE,8BACe,IAAZqE,EACC,6BACE,kBAAC,EAAD,CAAOJ,QAASA,IAChB,+CACA,kBAAC,IAAD,CAAQvB,QAASH,EAAkB1E,GAAG,mBAAtC,6BAGF,6BACE,kBAAC,EAAD,CAAUsG,WAAYA,IACtB,kBAAC,IAAD,CAAQzB,QAASH,EAAkB1E,GAAG,mBAAtC,oBClCK6G,EAJgBC,aAJV,SAACrF,GACpB,MAAM,CAAEsF,aAActF,EAAMsF,gBAGCD,EA3BV,SAAC5C,GAEpB,MAAkC,KAA/BA,EAAM6C,aAAa3E,QACX,KAEyB,YAA5B8B,EAAM6C,aAAajG,KAEvB,yBAAKkG,UAAU,WACZ9C,EAAM6C,aAAa3E,SAIU,UAA5B8B,EAAM6C,aAAajG,KAEvB,yBAAKkG,UAAU,SACZ9C,EAAM6C,aAAa3E,SAIZ,Q,QCiBD6E,EA7BF,SAAC,GAAkB,IAAhBjH,EAAe,EAAfA,GAAIa,EAAW,EAAXA,KACZF,EAAWoC,cACjBtC,QAAQC,IAAI,UAAYV,GAExB,IAAMkH,EAAY,uCAAG,WAAOjE,GAAP,SAAAzD,EAAA,6DACnByD,EAAMC,iBACNzC,QAAQC,IAAI,eAAiBG,EAAKb,IAFf,kBAIXW,EAASQ,EAAWN,EAAKb,KAJd,uBAKXW,EAAS+B,KALE,OAMjB/B,EAASwB,EAAmB,eAAgB,UAAW,IANtC,kDAQjBxB,EAASwB,EAAmB,uBAAwB,QAAS,IAR5C,0DAAH,sDAalB,OACE,4BACE,4BACE,kBAAC,IAAD,CAAMgF,IAAKtG,EAAKb,GAAIoH,GAAE,iBAAYvG,EAAKb,KAAOa,EAAKE,QAErD,4BACE,kBAAC,IAAD,CAAQ8D,QAASqC,EAAclH,GAAG,aAAlC,a,eCOFqH,EAAO,SAAC,GAAc,IAAZxG,EAAW,EAAXA,KACd,OACE,4BAAKA,EAAKE,QAOCuG,EA5CC,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAAS/B,EAAW,EAAXA,KAE1B,OAAI+B,EAGwB,IAAzBA,EAAQnG,MAAMoG,OAEb,kCACiBC,IAAdjC,EAAK3B,KAAqB,kBAAC,IAAD,CAAUuD,GAAG,MACtC,6BACE,0CAAgBG,EAAQjC,UACxB,0EAAgDiC,EAAQjC,YAMhE,kCACiBmC,IAAdjC,EAAK3B,KAAqB,kBAAC,IAAD,CAAUuD,GAAG,MACtC,6BACE,kBAAC,EAAD,MACA,0CAAgBG,EAAQjC,UACxB,kBAACoC,EAAA,EAAD,CAAM9C,MAAO,CAAE+C,MAAO,UACpB,kBAACD,EAAA,EAAKE,KAAN,KACE,4BAAKL,EAAQnG,MAAMa,KAAI,SAAApB,GAAI,OACzB,kBAAC,EAAD,CAAMsG,IAAKtG,EAAKb,GAAIa,KAAMA,YAtB/B,MC0ELgH,EAAW,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACdX,EAAM,EACV,OAAIW,EAQF,6BACE,4BAAKA,EAAS7F,KAAI,SAAA8F,GAAO,OACvB,wBAAIZ,IAAKA,KAAQY,QARnB,mFAYSC,EA7FC,SAAC,GAAc,IAAZnH,EAAW,EAAXA,KAEXF,EAAWoC,cACjB,IAAIlC,EACF,OAAO,KAGT,IAAMoH,EAAY,uCAAG,WAAOhF,GAAP,eAAAzD,EAAA,6DACnByD,EAAMC,iBACAgF,EAAe,CACnBjH,IAAKJ,EAAKI,IACVF,MAAOF,EAAKE,MACZG,MAAOL,EAAKK,MAAQ,EACpBF,OAAQH,EAAKG,OACb8G,SAAUjH,EAAKiH,UAPE,kBAUXnH,EAASU,EAAQR,EAAKb,GAAIkI,IAVf,OAWjBvH,EAASwB,EAAmB,cAAD,OAAe+F,EAAanH,MAA5B,KAAsC,UAAW,IAX3D,gDAajBJ,EAASwB,EAAmB,8CAA+C,QAAS,IAbnE,yDAAH,sDAiBZgG,EAAe,uCAAG,WAAOlF,GAAP,iBAAAzD,EAAA,6DACtByD,EAAMC,iBACFkF,EAAgB,GAChBvH,EAAKiH,UACPjH,EAAKiH,SAASO,KAAKpF,EAAME,OAAOmF,QAAQjF,OACxC+E,EAAgBvH,EAAKiH,UAGrBM,EAAgBnF,EAAME,OAAOmF,QAAQjF,MACvCJ,EAAME,OAAOmF,QAAQjF,MAAQ,GAEvBkF,EAAkB,CACtBtH,IAAKJ,EAAKI,IACVF,MAAOF,EAAKE,MACZG,MAAOL,EAAKK,MACZF,OAAQH,EAAKG,OACb8G,SAAUM,GAhBU,kBAmBdzH,EAASY,EAAWV,EAAKb,GAAIuI,IAnBf,OAoBpB5H,EAASwB,EAAmB,gBAAiB,UAAW,IApBpC,kDAsBpBxB,EAASwB,EAAmB,uBAAwB,QAAS,IAtBzC,0DAAH,sDA0BrB,OACE,6BACE,4BAAKtB,EAAKE,OACV,uBAAGyH,KAAI,kBAAa3H,EAAKI,MAAQJ,EAAKI,KACtC,4CAAkBJ,EAAKG,QACvB,sCAAYH,EAAKK,MAAjB,IAAwB,kBAAC,IAAD,CAAQ2D,QAASoD,EAAcjI,GAAG,WAAlC,SACxB,kBAAC0H,EAAA,EAAD,CAAM9C,MAAO,CAAE+C,MAAO,UACpB,kBAACD,EAAA,EAAKE,KAAN,KACE,kBAACpE,EAAA,EAAD,CAAMC,SAAU0E,GACd,kBAAC3E,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,kBACA,kBAACH,EAAA,EAAKI,QAAN,CACE5D,GAAG,UACHc,KAAK,OACL+C,KAAK,YAGP,kBAAC,IAAD,CAAQC,QAAQ,UAAUhD,KAAK,SAASd,GAAG,cAA3C,sBAGJ,kBAAC,EAAD,CAAU8H,SAAUjH,EAAKiH,e,yBCkFpBW,GAhJG,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAEb/H,EAAWoC,cAEXyC,EAAOmD,aAAa,SAAAlH,GACxB,OAAOA,EAAMwD,SAGT2D,EAAWD,aAAY,SAAAlH,GAC3B,OAAOA,EAAMmB,SAGTxB,EAAQuH,aAAa,SAAAlH,GACzB,OAAOA,EAAML,SAITyH,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,KAAhB,OACb,4BAAQlE,QAASiE,GACdC,IAICC,EAAgB,WACpBrI,GNkBF2B,OAAOmD,aAAawD,QACpB,uCAAO,WAAMtI,GAAN,SAAAnB,EAAA,sDACLmB,EAAS,CACPG,KAAM,QACNzB,KAAM,KAHH,2CAAP,mDAAM,MMFA6J,EAAW,WACf,IAAIC,EAAQ,EAIZ,OAHA/H,EAAMgI,MAAK,SAAU5J,EAAG6J,GACtB,OAAOA,EAAEnI,MAAQ1B,EAAE0B,SAGnB,6BACE,kBAACoI,EAAA,EAAD,CAAOC,SAAO,GACZ,+BACGnI,EAAMa,KAAI,SAAApB,GAAI,OACb,kBAAC,EAAD,CAAMsG,IAAKtG,EAAKb,GAAIA,GAAImJ,IAAStI,KAAMA,WAuD7C2I,EAAYC,YAAc,cAC1BC,EAAYF,EACdZ,EAAS/G,MAAK,SAAA2D,GAAI,OAAIA,EAAKxF,KAAOwJ,EAAUG,OAAO3J,MACnD,KAEE4J,EAAYH,YAAc,cAC1BI,EAAYD,EACdxI,EAAMS,MAAK,SAAAhB,GAAI,OAAIA,EAAKb,KAAO4J,EAAUD,OAAO3J,MAChD,KAEJ,OACE,6BACE,mBA1Be,WACjB,YAAkByH,IAAdjC,EAAK3B,KACA,8BAGP,kBAACiG,EAAA,EAAD,CAAQC,GAAG,UAAUjG,QAAQ,QAC3B,kBAACkG,GAAA,EAAD,KACE,kBAACF,EAAA,EAAOG,KAAR,KAAc,kBAAC,IAAD,CAAU7C,GAAG,KAAb,QAAd,QAAkD,kBAAC,IAAD,CAASA,GAAG,UAAZ,SAAlD,MAAyF,kBAACyB,EAAD,CAAQ7B,UAAU,UAAU8B,YAAaE,EAAeD,KAAK,YACtJ,kBAACe,EAAA,EAAOI,MAAR,CAAclD,UAAU,WAAxB,gBAAgDxB,EAAK3B,UAkBzD,MACA,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOsG,KAAK,mBACK1C,IAAdjC,EAAK3B,KAAqB,kBAAC,IAAD,CAAUuD,GAAG,MACtC,6BACE,kBAAC,EAAD,CAASvG,KAAMgJ,MAKrB,kBAAC,IAAD,CAAOM,KAAK,cACV,kBAAC,EAAD,CAAS5C,QAASmC,EAAWlE,KAAMA,KAErC,kBAAC,IAAD,CAAO2E,KAAK,UACV,mBA1EM,WACZ,OACE,kCACiB1C,IAAdjC,EAAK3B,KAAqB,kBAAC,EAAD,MACzB,6BACE,0CACA,kBAAC6D,EAAA,EAAD,CAAM9C,MAAO,CAAE+C,MAAO,UACpB,kBAACD,EAAA,EAAKE,KAAN,KACE,kBAAC0B,EAAA,EAAD,CAAOC,SAAO,EAACa,UAAQ,EAACC,OAAK,GAC3B,+BACE,4BACE,oCACA,+CAGJ,+BACGzB,EAAS3G,KAAI,SAAAuD,GAAI,OAEhB,wBAAI2B,IAAK3B,EAAKxF,IACZ,4BAAI,kBAAC,IAAD,CAAMoH,GAAE,iBAAY5B,EAAKxF,KAAOwF,EAAKF,WACzC,4BAAKE,EAAKpE,MAAMoG,oBAsD9B,OAEF,kBAAC,IAAD,CAAO2C,KAAK,KA1Gd,kCACiB1C,IAAdjC,EAAK3B,KAAqB,kBAAC,EAAD,MACzB,yBAAK7D,GAAG,WACN,qCACA,kBAACkJ,EAAD,MACCR,UCEE4B,GArCH,WAEV,IAAM3J,EAAWoC,cAEjBwH,qBAAU,WACR5J,Eb6EF,uCAAO,WAAMA,GAAN,eAAAnB,EAAA,sEACeoB,EAAY5B,SAD3B,OACCoC,EADD,OAELT,EAAS,CACPG,KAAM,aACNzB,KAAM+B,IAJH,2CAAP,mDAAM,Ma5EJ,CAACT,IAEH4J,qBAAU,WACR5J,EAAS+B,OACT,CAAC/B,IAEH4J,qBAAU,WACR,IAAI5J,EAASmF,KAAkB,MAAM0E,GACnC/J,QAAQC,IAAI,cAEd,CAACC,IAEH,IAAM8J,EAAcC,mBAUpB,OACE,yBAAK1D,UAAU,aACb,kBAAC,IAAD,KACE,kBAAC2D,GAAD,CAAYjC,eAXK,kBACrB,kBAAC,EAAD,CAAW5D,YAAY,WAAWX,IAAKsG,GACrC,kBAAC,EAAD,a,2BC1BAjJ,GAAUoJ,2BAAgB,CAC9B7D,aAActE,EACdrB,MAAOyJ,EACP5F,MAAOiB,EACPtD,MAAOC,IASMiI,GAPDC,uBACZvJ,GACAwJ,+BACEC,2BAAgBC,QCZpBC,IAASC,OACP,kBAAC,IAAD,CAAUN,MAAOA,IAAO,kBAAC,GAAD,OAAoBO,SAASC,eAAe,W","file":"static/js/main.e10e00e9.chunk.js","sourcesContent":["const initialState = []\r\nlet timeoutID\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n  case 'CREATE_NOTIFICATION':\r\n    return action.data\r\n  case 'SET_HIDDEN':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\n\r\nexport const createNotification = (content, type, time) => {\r\n  window.clearTimeout(timeoutID)\r\n  time = time * 1000\r\n\r\n  return async dispatch => {\r\n\r\n    dispatch({\r\n      type: 'CREATE_NOTIFICATION',\r\n      data: { content, type }\r\n    })\r\n    timeoutID = setTimeout(() => {\r\n      content = ''\r\n\r\n      dispatch({\r\n        type: 'SET_HIDDEN',\r\n        data: { content }\r\n      })\r\n    }, time)\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const hideNotification = () => {\r\n  const content = ''\r\n  return async dispatch => {\r\n    dispatch({\r\n      type: 'SET_HIDDEN',\r\n      data: { content }\r\n    })\r\n  }}\r\n\r\n\r\nexport default notificationReducer","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = async newBlog => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newBlog, config)\r\n  return response.data\r\n}\r\n\r\nconst update = (id, updatedBlog) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.put(`${baseUrl}/${id}`, updatedBlog, config)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return request.status\r\n\r\n}\r\nexport default { getAll, create, setToken, update, remove }","import blogService from '../services/blogs'\r\n\r\nconst reducer = (state = [], action) => {\r\n\r\n  switch(action.type) {\r\n  case 'ADDNEW':\r\n    return state.concat(action.data)\r\n  case 'INIT_BLOGS':\r\n    return action.data\r\n  case 'DELETE_BLOG':\r\n    return action.data\r\n  case 'NEW_BLOG':\r\n    return [...state, action.data]\r\n  case 'LIKE': {\r\n    const id = action.data.id\r\n    const blogTochange = state.find(n => n.id === id)\r\n    const changedBlog = {\r\n      ...blogTochange,\r\n    }\r\n    const returningItem = state.map(blog =>\r\n      blog.id !== id ? blog : changedBlog\r\n    )\r\n    console.log('return ' + returningItem)\r\n    return action.data.blogs\r\n  }\r\n  case 'COMMENT': {\r\n    const id = action.data.id\r\n    const blogTochange = state.find(n => n.id === id)\r\n    const changedBlog = {\r\n      ...blogTochange,\r\n    }\r\n    const returningItem = state.map(blog =>\r\n      blog.id !== id ? blog : changedBlog\r\n    )\r\n    console.log('return ' + returningItem)\r\n    return action.data.blogs\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const createBlog = (blogObject) => {\r\n  console.log('reducer used')\r\n  return async dispatch => {\r\n    const blog = await blogService.create(blogObject)\r\n    dispatch({\r\n      type: 'ADDNEW',\r\n      data: {\r\n        title: blog.title,\r\n        author: blog.author,\r\n        url: blog.url,\r\n        id: blog.id,\r\n        likes: 0\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    await blogService.remove(id)\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: blogs,\r\n    })\r\n  }\r\n}\r\n\r\nexport const addLike = (id, updatedBLog) => {\r\n  return async dispatch => {\r\n    const newBlog = await blogService.update(id, updatedBLog)\r\n    const blogs = await blogService.getAll()\r\n    console.log('liked blog: ' +newBlog.id)\r\n    dispatch({\r\n      type: 'LIKE',\r\n      data: { id, blogs }\r\n    })\r\n  }\r\n}\r\n\r\nexport const addComment = (id, updatedBLog) => {\r\n  return async dispatch => {\r\n    const newBlog = await blogService.update(id, updatedBLog)\r\n    const blogs = await blogService.getAll()\r\n    console.log('commented blog: ' +newBlog.id)\r\n    dispatch({\r\n      type: 'COMMENT',\r\n      data: { id, blogs }\r\n    })\r\n  }\r\n}\r\n\r\nexport const initializeBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data: blogs,\r\n    })\r\n  }\r\n}\r\n\r\nexport default reducer","import axios from 'axios'\r\n\r\nconst url = '/api/users'\r\n\r\nconst users = () => {\r\n  const request = axios.get(url)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { users }","import loginService from '../services/users'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n  switch(action.type){\r\n  case 'GET_USERS':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n\r\n}\r\n\r\nexport const getUsers = () => {\r\n  return async dispatch => {\r\n    const users = await loginService.users()\r\n    dispatch({\r\n      type: 'GET_USERS',\r\n      data: users\r\n    })\r\n  }\r\n}\r\n\r\nexport default usersReducer","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { createBlog } from '../reducers/blogReducer'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { getUsers } from '../reducers/usersReducer'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst CreateBlogForm = () => {\r\n  const dispatch = useDispatch()\r\n  const addBlog = async (event) => {\r\n    event.preventDefault()\r\n    const blogObject = {\r\n      title: event.target.Title.value,\r\n      author: event.target.Author.value,\r\n      url: event.target.Url.value\r\n    }\r\n    event.target.Title.value = ''\r\n    event.target.Author.value = ''\r\n    event.target.Url.value = ''\r\n    try{\r\n      await dispatch(createBlog(blogObject))\r\n      await dispatch(getUsers())\r\n      dispatch(createNotification(`new blog '${blogObject.title}' added`, 'success', 5))\r\n    }catch(exception){\r\n      dispatch(createNotification('blog was not added', 'error', 5))\r\n    }\r\n  }\r\n\r\n\r\n  return(\r\n    <div>\r\n      <h2>create new</h2>\r\n      <Form onSubmit={addBlog}>\r\n        <Form.Group>\r\n          <Form.Label>title:</Form.Label>\r\n          <Form.Control\r\n            id='title'\r\n            type=\"text\"\r\n            name=\"Title\"\r\n          />\r\n\r\n          <Form.Label>author:</Form.Label>\r\n          <Form.Control\r\n            id='author'\r\n            type=\"text\"\r\n            name=\"Author\"\r\n          />\r\n\r\n          <Form.Label>url:</Form.Label>\r\n          <Form.Control\r\n            id='url'\r\n            type=\"text\"\r\n            name=\"Url\"\r\n          />\r\n\r\n          <Button variant=\"primary\" type=\"submit\" id='createBlogBtn'>create</Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default CreateBlogForm","import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <Button onClick={toggleVisibility} id='revealBtn'>{props.buttonLabel}</Button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <Button onClick={toggleVisibility} id='hideBtn'>cancel</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\nTogglable.displayName = 'Togglable'\r\nexport default Togglable","import axios from 'axios'\r\n\r\nconst url = '/api/login'\r\nconst userUrl = '/api/users'\r\n\r\nconst login = async userInfo => {\r\n  const response = await axios.post(url, userInfo)\r\n  return response.data\r\n}\r\n\r\nconst register = async userInfo => {\r\n  const response = await axios.post(userUrl, userInfo)\r\n  return response.data\r\n}\r\n\r\nexport default { login, register }","import loginService from '../services/login'\r\nimport blogService from '../services/blogs'\r\n\r\nconst loginReducer = (state = [], action) => {\r\n  switch(action.type){\r\n  case 'LOGIN':\r\n    return action.data\r\n  case 'CLEAR':\r\n    return action.data\r\n  case 'INIT_USER':\r\n    return action.data\r\n  case 'REGISTER':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\n\r\nexport const loginUser = ( userObject ) => {\r\n  const username = userObject.username\r\n  const password = userObject.password\r\n  return async dispatch => {\r\n    const user = await loginService.login({ username, password })\r\n    window.localStorage.setItem('blogUser', JSON.stringify(user))\r\n\r\n    dispatch({\r\n      type: 'LOGIN',\r\n      data: {\r\n        token: user.token,\r\n        username: user.username,\r\n        name: user.name,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const registerUser = ( userObject ) => {\r\n  const username = userObject.username\r\n  const name = userObject.name\r\n  const password = userObject.password\r\n\r\n  return async dispatch => {\r\n    const user = await loginService.register({ username, name, password })\r\n    dispatch({\r\n      type: 'REGISTER',\r\n      data: {\r\n        username: user.username,\r\n        name: user.name,\r\n        password: user.password\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const removeUser = () => {\r\n  window.localStorage.clear()\r\n  return async dispatch => {\r\n    dispatch({\r\n      type: 'CLEAR',\r\n      data: {}\r\n    })\r\n  }\r\n}\r\n\r\nexport const initializeUser = () => {\r\n  const savedLoggedinUser = window.localStorage.getItem('blogUser')\r\n  const user = JSON.parse(savedLoggedinUser)\r\n  blogService.setToken(user.token)\r\n  return async dispatch => {\r\n    dispatch({\r\n      type: 'INIT_USER',\r\n      data: {\r\n        token: user.token,\r\n        username: user.username,\r\n        name: user.name\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default loginReducer","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { loginUser, initializeUser, registerUser } from '../reducers/loginReducer'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch()\r\n  const [showAll, setShow] = useState(false)\r\n\r\n  const toggleVisibility = () => {\r\n    if(showAll === true){\r\n      setShow(false)\r\n    }\r\n    else\r\n      setShow(true)\r\n  }\r\n\r\n  const addUser = async (event) => {\r\n    event.preventDefault()\r\n    const userObject = {\r\n      username: event.target.Username.value,\r\n      password: event.target.Password.value,\r\n    }\r\n    event.target.Username.value = ''\r\n    event.target.Password.value = ''\r\n    try{\r\n      await dispatch(loginUser(userObject))\r\n      await dispatch(initializeUser())\r\n      dispatch(createNotification('login success', 'success', 5))\r\n    }catch(exception){\r\n      dispatch(createNotification('wrong username or password', 'error', 5))\r\n    }\r\n\r\n  }\r\n\r\n  const createUser = async (event) => {\r\n    event.preventDefault()\r\n    const userObject = {\r\n      username: event.target.Username.value,\r\n      name: event.target.Username.value,\r\n      password: event.target.Password.value,\r\n    }\r\n    const userObjectForLogin = {\r\n      username: event.target.Username.value,\r\n      password: event.target.Password.value,\r\n    }\r\n\r\n    console.log('inside register')\r\n\r\n    try{\r\n      await dispatch(registerUser(userObject))\r\n      await dispatch(loginUser(userObjectForLogin))\r\n      dispatch(createNotification('Account created', 'success', 5))\r\n    }catch(exception){\r\n      dispatch(createNotification('account not created', 'error', 5))\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      {showAll === false ?\r\n        <div>\r\n          <Login addUser={addUser}/>\r\n          <h5>No account yet?</h5>\r\n          <Button onClick={toggleVisibility} id='showRegisterBtn'>Clich here to create one</Button>\r\n        </div>\r\n        :\r\n        <div>\r\n          <Register createUser={createUser}/>\r\n          <Button onClick={toggleVisibility} id='showRegisterBtn'>Back to login</Button>\r\n        </div> }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Login = ({ addUser }) => {\r\n\r\n  return(\r\n    <div>\r\n      <h2>Please login</h2>\r\n      <Form onSubmit={addUser}>\r\n        <Form.Group>\r\n          <Form.Label>username:</Form.Label>\r\n          <Form.Control\r\n            id='username'\r\n            type=\"text\"\r\n            name=\"Username\"\r\n          />\r\n\r\n          <Form.Label>password:</Form.Label>\r\n          <Form.Control\r\n            id='password'\r\n            type=\"password\"\r\n            name=\"Password\"\r\n          />\r\n\r\n          <Button variant=\"primary\" type=\"submit\" id='loginBtn'>login</Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nconst Register = ({ createUser }) => {\r\n\r\n  return(\r\n    <div>\r\n      <h2>Create a new account</h2>\r\n      <Form onSubmit={createUser}>\r\n        <Form.Group>\r\n          <Form.Label>username:</Form.Label>\r\n          <Form.Control\r\n            id='username'\r\n            type=\"text\"\r\n            name=\"Username\"\r\n          />\r\n\r\n          <Form.Label>name:</Form.Label>\r\n          <Form.Control\r\n            id='name'\r\n            type=\"text\"\r\n            name=\"Name\"\r\n          />\r\n\r\n          <Form.Label>password:</Form.Label>\r\n          <Form.Control\r\n            id='password'\r\n            type=\"password\"\r\n            name=\"Password\"\r\n          />\r\n\r\n          <Button variant=\"primary\" type=\"submit\" id='loginBtn'>register</Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\nexport default LoginForm","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst Notification = (props) => {\r\n\r\n  if(props.notification.content === ''){\r\n    return ( null )\r\n  }\r\n  else if(props.notification.type === 'success'){\r\n    return (\r\n      <div className='success'>\r\n        {props.notification.content}\r\n      </div>\r\n    )\r\n  }\r\n  else if(props.notification.type === 'error'){\r\n    return (\r\n      <div className='error'>\r\n        {props.notification.content}\r\n      </div>\r\n    )\r\n  }\r\n  else return ( null )\r\n\r\n}\r\n\r\nconst stateToProps = (state) => {\r\n  return{ notification: state.notification }\r\n}\r\n\r\nconst connectedNotifications = connect(\r\n  stateToProps\r\n)(Notification)\r\n\r\nexport default connectedNotifications","import React from 'react'\r\nimport { deleteBlog } from '../reducers/blogReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { getUsers } from '../reducers/usersReducer'\r\nimport {\r\n  Link\r\n} from 'react-router-dom'\r\nimport { Button } from 'react-bootstrap'\r\n\r\n\r\nconst Blog = ({ id, blog }) => {\r\n  const dispatch = useDispatch()\r\n  console.log('blog id' + id)\r\n\r\n  const blogDeletion = async (event) => {\r\n    event.preventDefault()\r\n    console.log('id of blog: ' + blog.id)\r\n    try{\r\n      await dispatch(deleteBlog(blog.id))\r\n      await dispatch(getUsers())\r\n      dispatch(createNotification('blog removed', 'success', 5))\r\n    }catch(e){\r\n      dispatch(createNotification('You cant remove that', 'error', 5))\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <Link key={blog.id} to={`/blogs/${blog.id}`}>{blog.title}</Link>\r\n      </td>\r\n      <td>\r\n        <Button onClick={blogDeletion} id='removeBtn'>delete</Button>\r\n      </td>\r\n    </tr>\r\n\r\n  )}\r\n\r\nexport default Blog\r\n","import React from 'react'\r\nimport Notification from '../components/Notification'\r\nimport { Card } from 'react-bootstrap'\r\nimport {\r\n  Redirect,\r\n} from 'react-router-dom'\r\nconst OneUser = ({ oneUser, user }) => {\r\n\r\n  if(!oneUser){\r\n    return null\r\n  }\r\n  if(oneUser.blogs.length === 0){\r\n    return (\r\n      <div>\r\n        {user.name === undefined ? <Redirect to='/'/>:\r\n          <div>\r\n            <h3>Blogs from {oneUser.username}</h3>\r\n            <p>Hmm... it seems like there is no blogs from {oneUser.username}</p>\r\n          </div>\r\n        }\r\n      </div>)\r\n  }\r\n  return (\r\n    <div>\r\n      {user.name === undefined ? <Redirect to='/'/>:\r\n        <div>\r\n          <Notification />\r\n          <h3>Blogs from {oneUser.username}</h3>\r\n          <Card style={{ width: '30rem' }}>\r\n            <Card.Body>\r\n              <ul>{oneUser.blogs.map(blog =>\r\n                <List key={blog.id} blog={blog}/>)}\r\n              </ul>\r\n            </Card.Body>\r\n          </Card>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst List = ({ blog }) => {\r\n  return (\r\n    <li>{blog.title}</li>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default OneUser","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { addLike, addComment } from '../reducers/blogReducer'\r\nimport { Form, Button, Card } from 'react-bootstrap'\r\n\r\nconst OneBlog = ({ blog }) => {\r\n\r\n  const dispatch = useDispatch()\r\n  if(!blog){\r\n    return null\r\n  }\r\n\r\n  const likeAddition = async (event) => {\r\n    event.preventDefault()\r\n    const blogWithLike = {\r\n      url: blog.url,\r\n      title: blog.title,\r\n      likes: blog.likes + 1,\r\n      author: blog.author,\r\n      comments: blog.comments\r\n    }\r\n    try{\r\n      await dispatch(addLike(blog.id, blogWithLike))\r\n      dispatch(createNotification(`you liked '${blogWithLike.title}'`, 'success', 5))\r\n    }catch(e){\r\n      dispatch(createNotification('blog was not liked (may be already removed)', 'error', 5))\r\n    }\r\n  }\r\n\r\n  const commentAddition = async (event) => {\r\n    event.preventDefault()\r\n    let commentToSend = ''\r\n    if (blog.comments){\r\n      blog.comments.push(event.target.Comment.value)\r\n      commentToSend = blog.comments\r\n    }\r\n    else{\r\n      commentToSend = event.target.Comment.value}\r\n    event.target.Comment.value = ''\r\n\r\n    const blogWithComment = {\r\n      url: blog.url,\r\n      title: blog.title,\r\n      likes: blog.likes,\r\n      author: blog.author,\r\n      comments: commentToSend,\r\n    }\r\n    try{\r\n      await dispatch(addComment(blog.id, blogWithComment))\r\n      dispatch(createNotification('comment added', 'success', 5))\r\n    }catch(e){\r\n      dispatch(createNotification('something went wrong', 'error', 5))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>{blog.title}</h1>\r\n      <a href={`https://${blog.url}`}>{blog.url}</a>\r\n      <p>Blog added by {blog.author}</p>\r\n      <h4>likes: {blog.likes} <Button onClick={likeAddition} id='likeBtn'>like</Button></h4>\r\n      <Card style={{ width: '30rem' }}>\r\n        <Card.Body>\r\n          <Form onSubmit={commentAddition}>\r\n            <Form.Group>\r\n              <Form.Label>Comments </Form.Label>\r\n              <Form.Control\r\n                id='comment'\r\n                type=\"text\"\r\n                name=\"Comment\"\r\n              />\r\n\r\n              <Button variant=\"primary\" type=\"submit\" id='commentBtn'>Create a comment</Button>\r\n            </Form.Group>\r\n          </Form>\r\n          <Comments comments={blog.comments}/>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Comments = ({ comments }) => {\r\n  let key = 1\r\n  if(!comments){\r\n    return (\r\n      <div>\r\n      No comments in this blog. Be first one to comment\r\n      </div>\r\n    )\r\n  }\r\n  return(\r\n    <div>\r\n      <ul>{comments.map(comment =>\r\n        <li key={key++}>{comment}</li>)}</ul>\r\n    </div>\r\n  )\r\n}\r\nexport default OneBlog","import React from 'react'\r\nimport LoginForm from '../components/LoginForm'\r\nimport Notification from '../components/Notification'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Blog from '../components/Blog'\r\nimport { removeUser } from '../reducers/loginReducer'\r\n\r\nimport {\r\n  Switch, Route, Link, Redirect, useRouteMatch, NavLink\r\n} from 'react-router-dom'\r\nimport OneUser from './OneUser'\r\nimport OneBLog from './OneBlog'\r\nimport { Table, Navbar, Nav, Card } from 'react-bootstrap'\r\n\r\nconst UserList =  ({ createBlogForm }) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const user = useSelector( state => {\r\n    return state.login\r\n  })\r\n\r\n  const allUsers = useSelector(state => {\r\n    return state.users\r\n  })\r\n\r\n  const blogs = useSelector( state => {\r\n    return state.blogs\r\n  })\r\n\r\n\r\n  const Button = ({ handleClick, text }) => (\r\n    <button onClick={handleClick}>\r\n      {text}\r\n    </button>\r\n  )\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(removeUser())\r\n  }\r\n\r\n  const home = () => {\r\n    return (\r\n      <div>\r\n        {user.name === undefined ? <LoginForm />:\r\n          <div id='mainDiv'>\r\n            <h2>Blogs</h2>\r\n            <BlogList/>\r\n            {createBlogForm()}\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const BlogList = () => {\r\n    let ident = 0\r\n    blogs.sort(function (a, b) {\r\n      return b.likes - a.likes\r\n    })\r\n    return (\r\n      <div>\r\n        <Table striped>\r\n          <tbody>\r\n            {blogs.map(blog =>\r\n              <Blog key={blog.id} id={ident++} blog={blog}/>\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const Users = () => {\r\n    return(\r\n      <div>\r\n        {user.name === undefined ? <LoginForm />:\r\n          <div>\r\n            <h2>Blog users</h2>\r\n            <Card style={{ width: '18rem' }}>\r\n              <Card.Body>\r\n                <Table striped bordered hover>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>User</th>\r\n                      <th>blogs created</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {allUsers.map(user =>\r\n\r\n                      <tr key={user.id}>\r\n                        <td><Link to={`/users/${user.id}`}>{user.username}</Link></td>\r\n                        <td>{user.blogs.length}</td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const Navigation = () => {\r\n    if (user.name === undefined){\r\n      return <div></div>\r\n    }\r\n    return(\r\n      <Navbar bg=\"primary\" variant=\"dark\">\r\n        <Nav>\r\n          <Navbar.Text ><NavLink  to=\"/\">Home</NavLink>     <NavLink to=\"/users\">Users</NavLink>   <Button className=\"ml-auto\" handleClick={logoutHandler} text='logout' /></Navbar.Text>\r\n          <Navbar.Brand className=\"ml-auto\">Logged in as {user.name}</Navbar.Brand>\r\n        </Nav>\r\n      </Navbar>\r\n    )\r\n  }\r\n\r\n  const usermatch = useRouteMatch('/users/:id')\r\n  const ParamUser = usermatch\r\n    ? allUsers.find(user => user.id === usermatch.params.id)\r\n    : null\r\n\r\n  const blogmatch = useRouteMatch('/blogs/:id')\r\n  const paramBlog = blogmatch\r\n    ? blogs.find(blog => blog.id === blogmatch.params.id)\r\n    : null\r\n\r\n  return (\r\n    <div>\r\n      <Navigation/>\r\n      <Notification />\r\n      <Switch>\r\n        <Route path=\"/blogs/:id\">\r\n          {user.name === undefined ? <Redirect to='/'/>:\r\n            <div>\r\n              <OneBLog blog={paramBlog}/>\r\n            </div>\r\n          }\r\n        </Route>\r\n\r\n        <Route path=\"/users/:id\">\r\n          <OneUser oneUser={ParamUser} user={user} />\r\n        </Route>\r\n        <Route path=\"/users\">\r\n          <Users/>\r\n        </Route>\r\n        <Route path=\"/\">\r\n          {home()}\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default UserList","import React, { useEffect, useRef } from 'react'\r\nimport './index.css'\r\nimport CreateBlogForm from './components/CreateBlogForm'\r\nimport Togglable from './components/Togglable'\r\nimport { useDispatch } from 'react-redux'\r\nimport { initializeBlogs } from './reducers/blogReducer'\r\nimport { initializeUser } from './reducers/loginReducer'\r\nimport { getUsers } from './reducers/usersReducer'\r\nimport MainRender from './components/MainRender'\r\nimport {\r\n  BrowserRouter as Router,\r\n} from 'react-router-dom'\r\n\r\nconst App = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeBlogs())\r\n  },[dispatch])\r\n\r\n  useEffect(() => {\r\n    dispatch(getUsers())\r\n  },[dispatch])\r\n\r\n  useEffect(() => {\r\n    try{dispatch(initializeUser())}catch(exception){\r\n      console.log('no user')\r\n    }\r\n  },[dispatch])\r\n\r\n  const blogFormRef = useRef()\r\n\r\n  const createBlogForm = () => (\r\n    <Togglable buttonLabel='new blog' ref={blogFormRef}>\r\n      <CreateBlogForm />\r\n    </Togglable>\r\n  )\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Router>\r\n        <MainRender createBlogForm={createBlogForm}/>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport loginReducer from './reducers/loginReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\n\r\nconst reducer = combineReducers({\r\n  notification: notificationReducer,\r\n  blogs: blogReducer,\r\n  login: loginReducer,\r\n  users: usersReducer\r\n})\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport store from './store'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}><App /></Provider>, document.getElementById('root'))"],"sourceRoot":""}